---
description: Next.js App Router project structure
globs: **/*.ts,**/*.tsx
alwaysApply: false
---
# Next.js Project Structure

## Directory Layout
```
project-root/
├── src/
│   ├── app/              # App Router (pages, layouts, routes)
│   ├── components/       # Shared React components
│   │   ├── ui/          # UI primitives (Button, Input)
│   │   ├── layout/      # Layout components (Header, Sidebar)
│   │   └── features/    # Feature components (OrderCard)
│   ├── lib/             # Utilities grouped by domain
│   ├── hooks/           # Custom React hooks
│   ├── stores/          # Zustand stores
│   └── types/           # TypeScript types
├── public/              # Static assets
├── next.config.ts
└── tsconfig.json
```

## App Router Files
```
src/app/
  layout.tsx            # Root layout (required)
  page.tsx              # Home page (/)
  loading.tsx           # Loading UI
  error.tsx             # Error UI
  not-found.tsx         # 404 page
  dashboard/
    layout.tsx          # Nested layout
    page.tsx            # /dashboard
    [id]/page.tsx       # /dashboard/[id]
  api/
    users/route.ts      # /api/users
```

## Naming Conventions
- Components: `PascalCase.tsx`
- Utilities/hooks: `camelCase.ts`
- Hooks: `use` prefix (`useAuth.ts`)
- Stores: `use*Store.ts` suffix

## Colocation
Route-specific files use underscore prefix (private, not routes):
```
src/app/orders/
  _components/OrderCard.tsx
  _hooks/useOrders.ts
  _utils/processOrder.ts
  types.ts
  page.tsx
```

## Path Aliases
```json
// tsconfig.json
{ "compilerOptions": { "paths": { "@/*": ["./src/*"] } } }
```
```typescript
import { Button } from "@/components/ui/Button"
import { useUserStore } from "@/stores/useUserStore"
```

## Key Rules
- Use `src/` folder (separate code from config)
- Follow file conventions: `page.tsx`, `layout.tsx`, `route.ts`
- Use `_folder` prefix for non-routable folders in app/
- Don't mix App Router with Pages Router
- Config files stay in root (not in src/)
